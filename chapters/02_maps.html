

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>2. خلق خارطة تفاعلية &#8212; Geospatial Data Science with Earth Engine and Geemap</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/02_maps';</script>
    <link rel="canonical" href="https://book.geemap.org/chapters/02_maps.html" />
    <link rel="shortcut icon" href="../_static/icon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. إستخدام بيانات Earth Engine" href="03_gee_data.html" />
    <link rel="prev" title="1. مدخل الى GEE و geemap" href="01_introduction.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction &amp; Overview</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="author.html">حول المؤلف</a></li>
<li class="toctree-l1"><a class="reference internal" href="preface.html">مقدمة</a></li>
<li class="toctree-l1"><a class="reference internal" href="toc.html">Table of Contents</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Chapters</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_introduction.html">1. مدخل الى GEE و geemap</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. خلق خارطة تفاعلية</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_gee_data.html">3. إستخدام بيانات Earth Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_local_data.html">4. أستخدام البيانات الجغرافية المكانية المحلية</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_data_viz.html">5. استعراض و تمثيل البيانات الجغرافية-المكانية</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_data_analysis.html">6. تحليل البيانات المكانية</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_data_export.html">7. تصدير بيانات Earth Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_cartoee.html">8. رسم خارطة بأستخدام مفهوم كارتوي</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_timelapse.html">9. خلق صور متحركة حسب الفاصل الزمني</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_webapps.html">10. بناء تطبيق ويب تفاعلي</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_applications.html">11. تطبيقات Earth Engine</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">الفهرس</a></li>
<li class="toctree-l1"><a class="reference internal" href="issues.html">بعض المشاكل</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/giswqs/geebook/master?urlpath=tree/chapters/02_maps.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/giswqs/geebook/blob/master/chapters/02_maps.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/giswqs/geebook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/giswqs/geebook/edit/main/chapters/02_maps.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/giswqs/geebook/issues/new?title=Issue%20on%20page%20%2Fchapters/02_maps.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>خلق خارطة تفاعلية</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">2.1. مدخل</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chapter02-requirements">2.2. المتطلبات التقنية</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-backends">2.3. Plotting backends</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ipyleaflet">2.3.1. Ipyleaflet</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#folium">2.3.2. Folium</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotly">2.3.3. Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pydeck">2.3.4. Pydeck</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#keplergl">2.3.5. KeplerGL</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-basemaps">2.4. Adding basemaps</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#built-in-basemaps">2.4.1. Built-in basemaps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xyz-tiles">2.4.2. XYZ tiles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#wms-tiles">2.4.3. WMS tiles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#planet-basemaps">2.4.4. Planet basemaps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basemap-gui">2.4.5. Basemap GUI</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">2.5. Summary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter02">
<span id="id1"></span><h1><span class="section-number">2. </span>خلق خارطة تفاعلية<a class="headerlink" href="#chapter02" title="Permalink to this heading">#</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#id2" id="id7">مدخل</a></p></li>
<li><p><a class="reference internal" href="#chapter02-requirements" id="id8">المتطلبات التقنية</a></p></li>
<li><p><a class="reference internal" href="#plotting-backends" id="id9">Plotting backends</a></p>
<ul>
<li><p><a class="reference internal" href="#ipyleaflet" id="id10">Ipyleaflet</a></p></li>
<li><p><a class="reference internal" href="#folium" id="id11">Folium</a></p></li>
<li><p><a class="reference internal" href="#plotly" id="id12">Plotly</a></p></li>
<li><p><a class="reference internal" href="#pydeck" id="id13">Pydeck</a></p></li>
<li><p><a class="reference internal" href="#keplergl" id="id14">KeplerGL</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#adding-basemaps" id="id15">Adding basemaps</a></p>
<ul>
<li><p><a class="reference internal" href="#built-in-basemaps" id="id16">Built-in basemaps</a></p></li>
<li><p><a class="reference internal" href="#xyz-tiles" id="id17">XYZ tiles</a></p></li>
<li><p><a class="reference internal" href="#wms-tiles" id="id18">WMS tiles</a></p></li>
<li><p><a class="reference internal" href="#planet-basemaps" id="id19">Planet basemaps</a></p></li>
<li><p><a class="reference internal" href="#basemap-gui" id="id20">Basemap GUI</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#summary" id="id21">Summary</a></p></li>
</ul>
</nav>
<section id="id2">
<h2><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">2.1. </span>مدخل</a><a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h2>
<p>هناك العديد من الحزم و المكتبات التي تتعامل مع رسم الخرائط تفاعلية او تحليل المعلومات الجيومكانية <span id="id3">[<a class="reference internal" href="bibliography.html#id14" title="Qiusheng Wu. python-geospatial: A collection of Python packages for geospatial analysis with binder-ready notebook examples. 2021. URL: https://github.com/giswqs/python-geospatial.">Wu, 2021</a>]</span>. على الرغم من ذلك, كل حزمه لها وجه تطبيق(API) خاصه لخلق الخرائط و استعراض البيانات, و التي قد تكون صعبة على المبتدئين للتصفح. ان geemap تبسط العملية من خلال واجهه تطبيقية (API) تجمع بين خلق الخارطه التفاعلية و أستعراض البيانات, و كذلك تمكين المستخدمن من رسم خلفية الخارطة بسطر برمجي واحد.</p>
<p>من خلال هذا الفصل, سوف تتعرف على كيفية خلق الخارطة التفاعلية بأستخدام واحدة من خمس طرق لرسم خلفيات الخرائط. كذلك, سوف نعطيك بعض الامثلة التطبيقية حول كيفية اضافة و اختيار الخارطة الاساس الى الخارطة من بين المئات من خرائط الاساس الموجوده و باستخدام ايعاز واحد.</p>
</section>
<section id="chapter02-requirements">
<span id="id4"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">2.2. </span>المتطلبات التقنية</a><a class="headerlink" href="#chapter02-requirements" title="Permalink to this heading">#</a></h2>
<p>للسير في هذا الفصل, يجب ان قمت بتثبيت geemap مع الملحقات الاضافية لها. و اذا قت بأتباع الخطوات التاليه في الشكل
كما اسلفنا في الفصل الأول فان العمل على الخارطة التفاعلية يحتاج إلى بعض من المكتب التي يجب ان يتم استيرادها للعمل على البيانات المكانية. و تتطلب هذه المكتبات  بعض أدارة لبيئة conda و تثبيت بعض الحزم الضرورية و طلب تصريح العمل على بيانات Google Earth Engine. و يأتي ملخص الخطوات التقنية التي تسبق العمل على الخارطة التفاعلية بما يلي <a class="reference internal" href="01_introduction.html#ch01-install"><span class="std std-numref">Section 1.5</span></a> - باسم <em>Installing geemap</em>, و بالضروره ان تكون قد قمت بعملية بية conda مع الحزم الضرورية. عدى ذلك يمكن خلق بيئة جديدة من conda و تنصيب <a class="reference external" href="https://pygis.gishub.org">pygis</a> بواسطة الايعازات التالية, و التي تقوم بتنصيب geemap و جميع متطلباتها:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>gee<span class="w"> </span>python
conda<span class="w"> </span>activate<span class="w"> </span>gee
conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>mamba
mamba<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>pygis
</pre></div>
</div>
<p>ثانيا, اطلاق Jupyter من خلال الايعاز التالي في terminal او Anaconda prompt:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jupyter<span class="w"> </span>lab
</pre></div>
</div>
<p>او من خلال استخدام geemap في البيئة السحابية Google Colab بدون الحاجة الى تنصيب اي حزم على الكومبيوتر الخاص بيك. أضغط على <a class="reference external" href="https://colab.research.google.com/github/giswqs/geebook/blob/master/chapters/02_maps.ipynb">02_maps.ipynb</a> لكي يتم اطلاق اطلاق Google Colab.</p>
<p>حال اطلاق Colab, يمكنك رفع التعليق من الايعاز التالي و تنفيذه لكي تتمكن من تنصيب pygis, و التي تتضمن geemap و جميع الملحقات الضمنية فيها:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># %pip install pygis</span>
</pre></div>
</div>
</div>
</div>
<p>The installation process may take 2-3 minutes. Once pygis has been installed successfully, click the <strong>RESTART RUNTIME</strong> button that appears at the end of the installation log or go to the <strong>Runtime</strong> menu and select <strong>Restart runtime</strong>. After that, you can start coding.</p>
<p>To begin, import the necessary libraries that will be used in this chapter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ee</span>
<span class="kn">import</span> <span class="nn">geemap</span>
</pre></div>
</div>
</div>
</div>
<p>Initialize the Earth Engine Python API:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">geemap</span><span class="o">.</span><span class="n">ee_initialize</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>If this is your first time running the code above, you will need to authenticate Earth Engine first. Follow the instructions in <a class="reference internal" href="01_introduction.html#ch01-ee-auth"><span class="std std-numref">Section 1.7</span></a> - <em>Earth Engine authentication</em> to authenticate Earth Engine.</p>
</section>
<section id="plotting-backends">
<h2><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">2.3. </span>Plotting backends</a><a class="headerlink" href="#plotting-backends" title="Permalink to this heading">#</a></h2>
<p><strong>Geemap</strong> has five plotting backends, including <a class="reference external" href="https://github.com/jupyter-widgets/ipyleaflet">ipyleaflet</a>, <a class="reference external" href="https://python-visualization.github.io/folium">folium</a>, <a class="reference external" href="https://plotly.com">plotly</a>, <a class="reference external" href="https://deckgl.readthedocs.io/en/latest">pydeck</a>, and <a class="reference external" href="https://docs.kepler.gl/docs/keplergl-jupyter">kepler.gl</a>. An interactive map created using one of the plotting backends can be displayed in a Jupyter environment, such as Google Colab, Jupyter Notebook, and JupyterLab. By default, <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">geemap</span></code> will use the ipyleaflet plotting backend.</p>
<p>The five plotting backends supported by geemap do not offer equal functionality. The ipyleaflet plotting backend provides the richest interactive functionality, including the interactive Graphical User Interface (GUI) for loading, analyzing, and visualizing geospatial data interactively without coding. For example, users can add vector data (e.g., GeoJSON, Shapefile, KML, GeoDataFrame) and raster data (e.g., GeoTIFF, Cloud Optimized GeoTIFF [COG]) to the map with a few clicks. Users can also perform geospatial analysis using the WhiteboxTools GUI with 500+ geoprocessing tools directly within the map interface. Other interactive functionality (e.g., split-panel map, linked map, time slider, timeseries inspector) can also be useful for visualizing geospatial data. The ipyleaflet package is built upon ipywidgets and allows bidirectional communication between the frontend and the backend, enabling the use of the map to capture user input <span id="id5">[<a class="reference internal" href="bibliography.html#id13" title="QuantStack. Interactive GIS in Jupyter with ipyleaflet. 24 September 2019. Accessed: 2022-3-29. URL: https://blog.jupyter.org/interactive-gis-in-jupyter-with-ipyleaflet-52f9657fa7a.">QuantStack, 2019</a>]</span>.</p>
<p>In contrast, folium has relatively limited interactive functionality. It is meant for displaying static data only. It can be useful for developing interactive web apps when ipyleaflet is not supported. Note that the aforementioned interactive GUI is not available for other plotting backends. Geemap provides a unified API that makes it very easy to switch from one plotting backend to another. To choose a specific plotting backend, use one of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">geemap.geemap</span> <span class="pre">as</span> <span class="pre">geemap</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">geemap.foliumap</span> <span class="pre">as</span> <span class="pre">geemap</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">geemap.deck</span> <span class="pre">as</span> <span class="pre">geemap</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">geemap.kepler</span> <span class="pre">as</span> <span class="pre">geemap</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">geemap.plotlymap</span> <span class="pre">as</span> <span class="pre">geemap</span></code></p></li>
</ul>
<section id="ipyleaflet">
<h3><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">2.3.1. </span>Ipyleaflet</a><a class="headerlink" href="#ipyleaflet" title="Permalink to this heading">#</a></h3>
<p>You can simply use <code class="docutils literal notranslate"><span class="pre">geemap.Map()</span></code> to create an interactive map with the default settings. First, let’s import the <code class="docutils literal notranslate"><span class="pre">geemap</span></code> package:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geemap</span>
</pre></div>
</div>
</div>
</div>
<p>Next, create an interactive map using the ipyleaflet plotting backend. The <a class="reference external" href="https://geemap.org/geemap/#geemap.geemap.Map">geemap.Map</a> class inherits the <a class="reference external" href="https://ipyleaflet.readthedocs.io/en/latest/map_and_basemaps/map.html">ipyleaflet.Map</a> class. Therefore, you can use the same syntax to create an interactive map as you would with <code class="docutils literal notranslate"><span class="pre">ipyleaflet.Map</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>This code creates a new map and assigns it to a new variable named <code class="docutils literal notranslate"><span class="pre">Map</span></code>. To display the map in a Jupyter notebook, simply type the variable name:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<p>Keep in mind that throughout this book, <code class="docutils literal notranslate"><span class="pre">Map</span></code> is commonly used to refer to the interactive map. It is just a variable name. You can use whatever name you want (e.g., <code class="docutils literal notranslate"><span class="pre">m</span></code>) as long as it complies with the following Python variable names rules:</p>
<ul class="simple">
<li><p>A variable name must start with a letter or the underscore character</p></li>
<li><p>A variable name cannot start with a number</p></li>
<li><p>A variable name can only contain alphanumeric characters and underscores (A-z, 0-9, and _ )</p></li>
</ul>
<p>In general, a Python variable name should be lowercase. The reason we use <code class="docutils literal notranslate"><span class="pre">Map</span></code> rather than <code class="docutils literal notranslate"><span class="pre">m</span></code> is because in the Earth Engine JavaScript API, <code class="docutils literal notranslate"><span class="pre">Map</span></code> is a reserved keyword referring to the interactive map. We want to be consistent with the Earth Engine JavaScript API so that users can have an easier transition to geemap. Users are by no means required to use <code class="docutils literal notranslate"><span class="pre">Map</span></code> as the variable name for the interactive map.</p>
<p>To customize the map, you can specify various keyword arguments, such as <code class="docutils literal notranslate"><span class="pre">center</span></code> ([lat, lon]), <code class="docutils literal notranslate"><span class="pre">zoom</span></code>, <code class="docutils literal notranslate"><span class="pre">width</span></code>, and <code class="docutils literal notranslate"><span class="pre">height</span></code>. The default <code class="docutils literal notranslate"><span class="pre">width</span></code> is <code class="docutils literal notranslate"><span class="pre">100%</span></code>, which takes up the entire cell width of the Jupyter notebook. The <code class="docutils literal notranslate"><span class="pre">height</span></code> argument accepts a number or a string. If a number is provided, it represents the height of the map in pixels. If a string is provided, the string must be in the format of a number followed by <code class="docutils literal notranslate"><span class="pre">px</span></code>, e.g., <code class="docutils literal notranslate"><span class="pre">600px</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<p>The default map comes with all the following controls (see <a class="reference internal" href="#ch02-ipyleaflet"><span class="std std-numref">Fig. 2.1</span></a>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">attribution_ctrl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data_ctrl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">draw_ctrl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fullscreen_ctrl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">layer_ctrl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">measure_ctrl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scale_ctrl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">toolbar_ctrl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zoom_ctrl</span></code></p></li>
</ul>
<figure class="align-default" id="ch02-ipyleaflet">
<a class="reference internal image-reference" href="chapters/images/ch02_ipyleaflet.jpg"><img alt="chapters/images/ch02_ipyleaflet.jpg" src="chapters/images/ch02_ipyleaflet.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.1 </span><span class="caption-text">A map created using the ipyleaflet plotting backend.</span><a class="headerlink" href="#ch02-ipyleaflet" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>To hide a control, set <code class="docutils literal notranslate"><span class="pre">control_name</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>, e.g., <code class="docutils literal notranslate"><span class="pre">draw_ctrl=False</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">data_ctrl</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">toolbar_ctrl</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">draw_ctrl</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<p>You can also set <code class="docutils literal notranslate"><span class="pre">lite_mode=True</span></code> to show only the Zoom Control.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">lite_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<p>To save the map as an HTML file you can call the <code class="docutils literal notranslate"><span class="pre">save</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;ipyleaflet.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="folium">
<h3><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">2.3.2. </span>Folium</a><a class="headerlink" href="#folium" title="Permalink to this heading">#</a></h3>
<p>To create an interactive map using the folium plotting backend, simply import the library as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geemap.foliumap</span> <span class="k">as</span> <span class="nn">geemap</span>
</pre></div>
</div>
</div>
</div>
<p>Then, you can use the same line of code to create and display an interactive map (<a class="reference internal" href="#ch02-folium"><span class="std std-numref">Fig. 2.2</span></a>) as you would with the ipyleaflet plotting backend introduced above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<figure class="align-default" id="ch02-folium">
<a class="reference internal image-reference" href="chapters/images/ch02_folium.jpg"><img alt="chapters/images/ch02_folium.jpg" src="chapters/images/ch02_folium.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.2 </span><span class="caption-text">A map created using the folium plotting backend.</span><a class="headerlink" href="#ch02-folium" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Folium does not support bidirectional communication <span id="id6">[<a class="reference internal" href="bibliography.html#id13" title="QuantStack. Interactive GIS in Jupyter with ipyleaflet. 24 September 2019. Accessed: 2022-3-29. URL: https://blog.jupyter.org/interactive-gis-in-jupyter-with-ipyleaflet-52f9657fa7a.">QuantStack, 2019</a>]</span>. Once the map is created and displayed in a notebook cell, you can’t modify the map’s properties, e.g., add/remove layers, add controls, change width/height. Also, the data and toolbar controls available in ipyleaflet (see <a class="reference internal" href="#ch02-ipyleaflet"><span class="std std-numref">Fig. 2.1</span></a>) are not supported in folium as folium does not support ipywidgets.</p>
<p>To save the map as an HTML file we can call the <code class="docutils literal notranslate"><span class="pre">save</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;folium.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="plotly">
<h3><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">2.3.3. </span>Plotly</a><a class="headerlink" href="#plotly" title="Permalink to this heading">#</a></h3>
<p>To create an interactive map using the plotly plotting backend, simply import the library as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geemap.plotlymap</span> <span class="k">as</span> <span class="nn">geemap</span>
</pre></div>
</div>
</div>
</div>
<p>Then, create and display an interactive map (<a class="reference internal" href="#ch02-plotly"><span class="std std-numref">Fig. 2.3</span></a>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<figure class="align-default" id="ch02-plotly">
<a class="reference internal image-reference" href="chapters/images/ch02_plotly.jpg"><img alt="chapters/images/ch02_plotly.jpg" src="chapters/images/ch02_plotly.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.3 </span><span class="caption-text">A map created using the plotly plotting backend.</span><a class="headerlink" href="#ch02-plotly" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Note that you might not see the map displayed in Colab as it does not yet support plotly FigureWidget. If you run into an error saying <code class="docutils literal notranslate"><span class="pre">FigureWidget</span> <span class="pre">-</span> <span class="pre">'mapbox._derived'</span> <span class="pre">Value</span> <span class="pre">Error</span></code> (see <a class="reference external" href="https://github.com/plotly/plotly.py/issues/2570#issuecomment-738735816">plotly issue 2570</a>), uncomment the following line and run it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># geemap.fix_widget_error()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pydeck">
<h3><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">2.3.4. </span>Pydeck</a><a class="headerlink" href="#pydeck" title="Permalink to this heading">#</a></h3>
<p>To create an interactive map using the pydeck plotting backend, simply import the library as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geemap.deck</span> <span class="k">as</span> <span class="nn">geemap</span>
</pre></div>
</div>
</div>
</div>
<p>Then, create and display an interactive map (<a class="reference internal" href="#ch02-pydeck"><span class="std std-numref">Fig. 2.4</span></a>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<figure class="align-default" id="ch02-pydeck">
<a class="reference internal image-reference" href="chapters/images/ch02_pydeck.jpg"><img alt="chapters/images/ch02_pydeck.jpg" src="chapters/images/ch02_pydeck.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.4 </span><span class="caption-text">A map created using the pydeck plotting backend.</span><a class="headerlink" href="#ch02-pydeck" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="keplergl">
<h3><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">2.3.5. </span>KeplerGL</a><a class="headerlink" href="#keplergl" title="Permalink to this heading">#</a></h3>
<p>To create an interactive map using the <a class="reference external" href="https://docs.kepler.gl/docs/keplergl-jupyter">kepler.gl</a> plotting backend, simply import the library as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geemap.kepler</span> <span class="k">as</span> <span class="nn">geemap</span>
</pre></div>
</div>
</div>
</div>
<p>Then, create and display an interactive map (<a class="reference internal" href="#ch02-kepler"><span class="std std-numref">Fig. 2.5</span></a>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<figure class="align-default" id="ch02-kepler">
<a class="reference internal image-reference" href="chapters/images/ch02_kepler.jpg"><img alt="chapters/images/ch02_kepler.jpg" src="chapters/images/ch02_kepler.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.5 </span><span class="caption-text">A map created using the KeplerGL plotting backend.</span><a class="headerlink" href="#ch02-kepler" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="adding-basemaps">
<h2><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">2.4. </span>Adding basemaps</a><a class="headerlink" href="#adding-basemaps" title="Permalink to this heading">#</a></h2>
<p>There are several ways to add basemaps to a map. You can specify the basemap to use in the <code class="docutils literal notranslate"><span class="pre">basemap</span></code> keyword argument when creating the map with the <code class="docutils literal notranslate"><span class="pre">geemap.Map()</span></code> method. Alternatively, you can add basemap layers to the map using the <code class="docutils literal notranslate"><span class="pre">Map.add_basemap()</span></code> method. Geemap has hundreds of built-in basemaps available through <a class="reference external" href="https://github.com/geopandas/xyzservices">xyzservices</a> that can be easily added to the map with only one line of code.</p>
<section id="built-in-basemaps">
<h3><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">2.4.1. </span>Built-in basemaps</a><a class="headerlink" href="#built-in-basemaps" title="Permalink to this heading">#</a></h3>
<p>Let’s try out some of the built-in basemaps. First, import the geemap library as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">geemap</span>
</pre></div>
</div>
</div>
</div>
<p>Next, create a map by specifying the basemap to use as follows. For example, the <code class="docutils literal notranslate"><span class="pre">HYBRID</span></code> basemap represents the Google Satellite Hybrid basemap (<a class="reference internal" href="#ch02-basemap-hybrid"><span class="std std-numref">Fig. 2.6</span></a>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">basemap</span><span class="o">=</span><span class="s1">&#39;HYBRID&#39;</span><span class="p">)</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<figure class="align-default" id="ch02-basemap-hybrid">
<a class="reference internal image-reference" href="chapters/images/ch02_basemap_hybrid.jpg"><img alt="chapters/images/ch02_basemap_hybrid.jpg" src="chapters/images/ch02_basemap_hybrid.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.6 </span><span class="caption-text">The Google Satellite Hybrid basemap.</span><a class="headerlink" href="#ch02-basemap-hybrid" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>You can add as many basemaps as you like to the map. For example, the following code adds the <code class="docutils literal notranslate"><span class="pre">OpenTopoMap</span></code> basemap to the map above (<a class="reference internal" href="#ch02-basemap-opentopomap"><span class="std std-numref">Fig. 2.7</span></a>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s1">&#39;OpenTopoMap&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<figure class="align-default" id="ch02-basemap-opentopomap">
<a class="reference internal image-reference" href="chapters/images/ch02_basemap_opentopomap.jpg"><img alt="chapters/images/ch02_basemap_opentopomap.jpg" src="chapters/images/ch02_basemap_opentopomap.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.7 </span><span class="caption-text">The OpenTopoMap basemap.</span><a class="headerlink" href="#ch02-basemap-opentopomap" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>To find out the list of available basemaps:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">basemap</span> <span class="ow">in</span> <span class="n">geemap</span><span class="o">.</span><span class="n">basemaps</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">basemap</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>In total, there are 100+ basemaps available.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">geemap</span><span class="o">.</span><span class="n">basemaps</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="xyz-tiles">
<h3><a class="toc-backref" href="#id17" role="doc-backlink"><span class="section-number">2.4.2. </span>XYZ tiles</a><a class="headerlink" href="#xyz-tiles" title="Permalink to this heading">#</a></h3>
<p>You can also add XYZ tile layers to the map using the <code class="docutils literal notranslate"><span class="pre">Map.add_tile_layer()</span></code> method. For example, the following code creates an interactive map and adds the Google Terrain basemap to it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">Map</span><span class="o">.</span><span class="n">add_tile_layer</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://mt1.google.com/vt/lyrs=p&amp;x=</span><span class="si">{x}</span><span class="s2">&amp;y=</span><span class="si">{y}</span><span class="s2">&amp;z=</span><span class="si">{z}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Google Terrain&quot;</span><span class="p">,</span>
    <span class="n">attribution</span><span class="o">=</span><span class="s2">&quot;Google&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="wms-tiles">
<h3><a class="toc-backref" href="#id18" role="doc-backlink"><span class="section-number">2.4.3. </span>WMS tiles</a><a class="headerlink" href="#wms-tiles" title="Permalink to this heading">#</a></h3>
<p>Similarly, you can add WMS tile layers to the map using the <code class="docutils literal notranslate"><span class="pre">Map.add_wms_layer()</span></code> method. For example, the following code creates an interactive map and adds the National Land Cover Database (NLCD) 2019 basemap to it (<a class="reference internal" href="#ch02-basemap-nlcd"><span class="std std-numref">Fig. 2.8</span></a>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.mrlc.gov/geoserver/mrlc_display/NLCD_2019_Land_Cover_L48/wms?&#39;</span>
<span class="n">Map</span><span class="o">.</span><span class="n">add_wms_layer</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
    <span class="n">layers</span><span class="o">=</span><span class="s1">&#39;NLCD_2019_Land_Cover_L48&#39;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;NLCD 2019&#39;</span><span class="p">,</span>
    <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;image/png&#39;</span><span class="p">,</span>
    <span class="n">attribution</span><span class="o">=</span><span class="s1">&#39;MRLC&#39;</span><span class="p">,</span>
    <span class="n">transparent</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<figure class="align-default" id="ch02-basemap-nlcd">
<a class="reference internal image-reference" href="chapters/images/ch02_basemap_nlcd.jpg"><img alt="chapters/images/ch02_basemap_nlcd.jpg" src="chapters/images/ch02_basemap_nlcd.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.8 </span><span class="caption-text">The National Land Cover Database (NLCD) 2019 basemap.</span><a class="headerlink" href="#ch02-basemap-nlcd" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Want to find out more freely available WMS basemaps? Check out the <a class="reference external" href="https://apps.nationalmap.gov/services">USGS National Map Services</a>. Once you get a WMS URL, you can follow the example above to add it to the map.</p>
</section>
<section id="planet-basemaps">
<h3><a class="toc-backref" href="#id19" role="doc-backlink"><span class="section-number">2.4.4. </span>Planet basemaps</a><a class="headerlink" href="#planet-basemaps" title="Permalink to this heading">#</a></h3>
<p><a class="reference external" href="https://www.planet.com">Planet Labs</a> provides high-resolution global satellite imagery with a high temporal frequency. The monthly and quarterly global basemaps can be streamed via the <a class="reference external" href="https://developers.planet.com/docs/basemaps/tile-services/xyz">XYZ Basemap Tile Service</a> for use in web mapping applications or for visualization purposes. A valid <a class="reference external" href="https://developers.planet.com/docs/apis/data/#how-to-become-a-planet-developer">Planet account</a> is required to access the Basemap Tile Service. Once you sign up for a Planet account, you can get your API key by navigating to the <a class="reference external" href="https://www.planet.com/account/#/user-settings">Account Settings page</a> as shown in (<a class="reference internal" href="#ch02-planet-api-key"><span class="std std-numref">Fig. 2.9</span></a>).</p>
<figure class="align-default" id="ch02-planet-api-key">
<a class="reference internal image-reference" href="chapters/images/ch02_planet_api_key.jpg"><img alt="chapters/images/ch02_planet_api_key.jpg" src="chapters/images/ch02_planet_api_key.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.9 </span><span class="caption-text">Planet account profile page.</span><a class="headerlink" href="#ch02-planet-api-key" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Replace <code class="docutils literal notranslate"><span class="pre">YOUR_API_KEY</span></code> below with the API key copied from your Account Settings page shown above. You can create an environment variable called <code class="docutils literal notranslate"><span class="pre">PLANET_API_KEY</span></code> and set it to the API key so that you can access the basemap tiles without having to specify the API key every time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PLANET_API_KEY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>First, let’s look at the list of available quarterly basemaps. Planet has quarterly basemaps going back to the first quarter of 2016. The names of the quarterly basemaps are: <code class="docutils literal notranslate"><span class="pre">Planet_2016q1</span></code>, <code class="docutils literal notranslate"><span class="pre">Planet_2016q2</span></code>, …, <code class="docutils literal notranslate"><span class="pre">Planet_2022q1</span></code>, and so on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">quarterly_tiles</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">planet_quarterly_tiles</span><span class="p">()</span>
<span class="k">for</span> <span class="n">tile</span> <span class="ow">in</span> <span class="n">quarterly_tiles</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tile</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Next, let’s look at the list of available monthly basemaps. Planet has monthly basemaps going back to January 2016. The names of the monthly basemaps are: <code class="docutils literal notranslate"><span class="pre">Planet_2016_01</span></code>, <code class="docutils literal notranslate"><span class="pre">Planet_2016_02</span></code>, …, <code class="docutils literal notranslate"><span class="pre">Planet_2022_04</span></code>, and so on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">monthly_tiles</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">planet_monthly_tiles</span><span class="p">()</span>
<span class="k">for</span> <span class="n">tile</span> <span class="ow">in</span> <span class="n">monthly_tiles</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tile</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>To add a monthly basemap to the map, use the <code class="docutils literal notranslate"><span class="pre">Map.add_planet_by_month()</span></code> method as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">Map</span><span class="o">.</span><span class="n">add_planet_by_month</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2020</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<p>To add a quarterly basemap to the map, use the <code class="docutils literal notranslate"><span class="pre">Map.add_planet_by_quarter()</span></code> method as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">Map</span><span class="o">.</span><span class="n">add_planet_by_quarter</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2019</span><span class="p">,</span> <span class="n">quarter</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<p>The map should look like <a class="reference internal" href="#ch02-basemap-planet"><span class="std std-numref">Fig. 2.10</span></a>.</p>
<figure class="align-default" id="ch02-basemap-planet">
<a class="reference internal image-reference" href="chapters/images/ch02_basemap_planet.jpg"><img alt="chapters/images/ch02_basemap_planet.jpg" src="chapters/images/ch02_basemap_planet.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.10 </span><span class="caption-text">The Planet quarterly basemap for second quarter of 2019.</span><a class="headerlink" href="#ch02-basemap-planet" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="basemap-gui">
<h3><a class="toc-backref" href="#id20" role="doc-backlink"><span class="section-number">2.4.5. </span>Basemap GUI</a><a class="headerlink" href="#basemap-gui" title="Permalink to this heading">#</a></h3>
<p>Geemap makes it easy for users to add basemaps to their maps without having to write any code. By clicking the “map” icon on the toolbar, the basemap GUI is activated (<a class="reference internal" href="#ch02-basemap-gui"><span class="std std-numref">Fig. 2.11</span></a>). Simply click the dropdown menu to select the basemap that you want to add. Additionally, if you have created an environment variable called <code class="docutils literal notranslate"><span class="pre">PLANET_API_KEY</span></code> and set it to your Planet API key, the Planet basemaps will also be available to select from the dropdown menu.</p>
<p>To set the Planet API key, use the following code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;PLANET_API_KEY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;YOUR_API_KEY&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Then the Planet basemaps will be available via the basemap dropdown menu.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Map</span> <span class="o">=</span> <span class="n">geemap</span><span class="o">.</span><span class="n">Map</span><span class="p">()</span>
<span class="n">Map</span>
</pre></div>
</div>
</div>
</div>
<figure class="align-default" id="ch02-basemap-gui">
<a class="reference internal image-reference" href="chapters/images/ch02_basemap_gui.jpg"><img alt="chapters/images/ch02_basemap_gui.jpg" src="chapters/images/ch02_basemap_gui.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2.11 </span><span class="caption-text">The basemap GUI for changing basemaps interactively without coding.</span><a class="headerlink" href="#ch02-basemap-gui" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="summary">
<h2><a class="toc-backref" href="#id21" role="doc-backlink"><span class="section-number">2.5. </span>Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">#</a></h2>
<p>In this chapter, we began by introducing the fundamentals of Jupyter notebooks. We then provided hands-on examples of using the five geemap plotting backends to create interactive maps. Additionally, we explored how to incorporate various basemap layers, such as built-in basemaps, XYZ tiles, WMS tiles, and Planet basemaps, into our maps.</p>
<p>By now, you should be proficient in using Jupyter notebook to generate interactive maps and switch between various basemaps seamlessly. That concludes this chapter. In the next chapter, we will delve into Google Earth Engine data.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="01_introduction.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>مدخل الى GEE و geemap</p>
      </div>
    </a>
    <a class="right-next"
       href="03_gee_data.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3. </span>إستخدام بيانات Earth Engine</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">2.1. مدخل</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chapter02-requirements">2.2. المتطلبات التقنية</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-backends">2.3. Plotting backends</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ipyleaflet">2.3.1. Ipyleaflet</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#folium">2.3.2. Folium</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotly">2.3.3. Plotly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pydeck">2.3.4. Pydeck</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#keplergl">2.3.5. KeplerGL</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-basemaps">2.4. Adding basemaps</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#built-in-basemaps">2.4.1. Built-in basemaps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#xyz-tiles">2.4.2. XYZ tiles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#wms-tiles">2.4.3. WMS tiles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#planet-basemaps">2.4.4. Planet basemaps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basemap-gui">2.4.5. Basemap GUI</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">2.5. Summary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Qiusheng Wu
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>